<div>
    <mat-toolbar style="background-color: white;">
        <span class="spacer"></span>
        <button mat-button mat-dialog-close class="close-button" style="float: right" (click)="closeDialog()">
          <mat-icon> close</mat-icon>
        </button>
      </mat-toolbar>
  <h2 mat-dialog-title color="primary-color">Share {{formTitle}}</h2>
  <mat-divider></mat-divider>
  <mat-dialog-content style="height:100%" style="overflow-y: hidden;" [formGroup]="shareForm">
    <h4 style="color: #242424">Users:</h4>
    <p style="margin-top: -20px;color: gray;">Every selected users will have access to this custom form</p>

    <mat-form-field style="width: 100%;">
        <mat-select placeholder="Users" formControlName="projects" multiple>
            <mat-option *ngFor="let user of userData" [value]="user['name']" (onSelectionChange)="userSelected(user['id'])">{{user['name']}}</mat-option>
          </mat-select>
    </mat-form-field>


    <h4 style="color: #242424">Projects:</h4>
    <p style="margin-top: -20px;color: gray;">Every selected users who has the selected project will have access to this custom form</p>
    <mat-form-field style="width: 100%;">
      <mat-select placeholder="Projects" formControlName="projects" multiple>
        <mat-option *ngFor="let pr of projectData" [value]="pr.name" (onSelectionChange)="projectSelected(pr['id'])">{{pr['name']}}</mat-option>
      </mat-select>
    </mat-form-field>

  </mat-dialog-content>

  <span style="color:red;">{{errorMessage}}</span>
  <mat-dialog-actions>
    <button mat-raised-button  (click)="close()" color="accent">Close</button>
    <button mat-raised-button mat-primary (click)="save()" color="primary" [disabled]="loading">Save
      <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </button>
  </mat-dialog-actions>
</div>
